<html>

<head>
  <script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script>
    var socket = io.connect('http://libertyy.herokuapp.com');
    
    function log(msg) {
      console.log(msg);
    }
    
    /* SERVER SIDE EVENTS */
    
    // On game start
    socket.on('start', function() {
      log('Game starting!');
    });
    
    // Receive player list (on connection)
    socket.on('players', function(players){
      log('Received players list');
      log(players);
    });
    
    // Receive
    socket.on('initia', function(self){
      log('Self player object');
      log(self);
    });
    
    // Receive new player (when new player enters game)
    socket.on('player', function(player){
      log('Receive new player');
      log(player);
    });
    
    // Receive time left (every second)
    socket.on('time', function(time){
      $('.time').text(time);
    });
    
    /* CLIENT SIDE EVENTS */
    
    $(document).ready( function() {
    
      // Client moving up
      $('.move-up').on('click', function() {
        socket.emit('move', 'up');
      });
      $('.move-right').on('click', function() {
        socket.emit('move', 'right');
      });
      $('.move-left').on('click', function() {
        socket.emit('move', 'left');
      });
      $('.move-down').on('click', function() {
        socket.emit('move', 'down');
      });
    
    });
    
  </script>
</head>

<body>
  Hello <span class="role"></span>
  
  <button class="move-up">Up</button>
  <button class="move-down">Down</button>
  <button class="move-right">Right</button>
  <button class="move-left">Left</button>
  
  Time left: <span class="time"></span> sec.
  
</body>

</html>
